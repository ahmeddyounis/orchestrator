{
  "goal": "Goal",
  "queries": [
    "Goal"
  ],
  "pack": {
    "items": [
      {
        "path": "packages/cli/src/output/renderer.ts",
        "startLine": 10,
        "endLine": 40,
        "content": "}\n\nexport class OutputRenderer {\n  constructor(private isJson: boolean) {}\n\n  render(data: OutputResult): void {\n    if (this.isJson) {\n      console.log(JSON.stringify(data, null, 2));\n    } else {\n      this.renderHuman(data);\n    }\n  }\n\n  private renderHuman(data: OutputResult): void {\n    if (data.status) console.log(`Status: ${data.status}`);\n    if (data.goal) console.log(`Goal: ${data.goal}`);\n    if (data.suite) console.log(`Suite: ${data.suite}`);\n    if (data.runId) console.log(`Run ID: ${data.runId}`);\n    if (data.artifactsDir) console.log(`Artifacts: ${data.artifactsDir}`);\n\n    if (data.providers) {\n      const activeProviders = Object.entries(data.providers).filter(([, provider]) => !!provider);\n\n      if (activeProviders.length > 0) {\n        console.log('Selected Providers:');\n        activeProviders.forEach(([role, provider]) => {\n          console.log(`  - ${role}: ${provider}`);\n        });\n      }\n    }\n",
        "reason": "search-match",
        "score": 12.5
      },
      {
        "path": "packages/core/src/orchestrator.ts",
        "startLine": 557,
        "endLine": 587,
        "content": "            const extractor = new SnippetExtractor();\n            const candidates = await extractor.extractSnippets(\n                [...searchResults.matches, ...extraMatches], \n                { cwd: this.repoRoot }\n            );\n\n            const packer = new SimpleContextPacker();\n            contextPack = packer.pack(step, [], candidates, { \n                tokenBudget: this.config.context?.tokenBudget || 8000 \n            });\n\n        } catch {\n             // Ignore context errors\n        }\n\n        let contextText = `Goal: ${goal}\\nCurrent Step: ${step}\\n`;\n        if (contextPack) {\n             const stepSlug = step.slice(0, 20).replace(/[^a-z0-9]/gi, '_');\n             const packFilename = `context_pack_step_${stepsCompleted}_${stepSlug}.json`;\n             const packPath = path.join(artifacts.root, packFilename);\n             await fs.writeFile(packPath, JSON.stringify(contextPack, null, 2));\n             contextPaths.push(packPath);\n\n             let formattedContext = \n... (truncated)",
        "reason": "search-match",
        "score": 13
      },
      {
        "path": "packages/core/src/plan/service.ts",
        "startLine": 136,
        "endLine": 190,
        "content": "        queries,\n        pack: contextPack,\n        stats: {\n          candidatesFound: candidates.length,\n          itemsSelected: contextPack.items.length,\n          itemsExcluded: excludedCount,\n        },\n      };\n\n      await fs.writeFile(\n        path.join(artifactsDir, 'context_pack.json'),\n        JSON.stringify(provenance, null, 2),\n      );\n\n      // Human readable report\n      let readableReport = `Goal: ${goal}\\n`;\n      readableReport += `Queries: ${queries.join(', ')}\\n`;\n      readableReport += `Stats: ${candidates.length} candidates, ${contextPack.items.length} selected, ${excludedCount} excluded\\n`;\n      readableReport += `Estimated Tokens: ${contextPack.estimatedTokens}\\n\\n`;\n      readableReport += `--- Selected Context ---\\n`;\n\n      for (const item of contextPack.items) {\n        readableReport += `File: ${item.path} (${item.startLine}-${item.endLine})\\n`;\n        readableReport += `Reason: ${item.reason} (Score: ${item.score.toFixed(2)})\\n`;\n        readableRepor\n... (truncated)",
        "reason": "search-match",
        "score": 12.5
      }
    ],
    "totalChars": 2970,
    "estimatedTokens": 743
  },
  "stats": {
    "candidatesFound": 3,
    "itemsSelected": 3,
    "itemsExcluded": 0
  }
}